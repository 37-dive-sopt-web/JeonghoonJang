<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM 실습</title>
  </head>
  <body>
    <h1>투두리스트</h1>
    <input class="todo-input" />
    <button class="add-btn" onclick="onClick()">추가</button>

    <h2>목록</h2>
    <ul class="todo-list"></ul>
    <script type="module" src="index.js"></script>
  </body>

  <script>
    const input = document.querySelector(".todo-input");
    const addBtn = document.querySelector(".add-btn");
    const todoList = document.querySelector(".todo-list");

    // 로컬스토리지에서 가져오기
    let todos = JSON.parse(localStorage.getItem("todos")) || [];

    // 초기화 - 화면에 표시
    todos.forEach((todo) => {
      const li = document.createElement("li");
      li.textContent = todo;
      todoList.appendChild(li);
    });

    // 추가 버튼 클릭 이벤트
    addBtn.addEventListener("click", () => {
      const value = input.value;

      if (!value) return;

      // 리스트에 추가
      const li = document.createElement("li");
      li.textContent = value;
      todoList.appendChild(li);

      // 로컬스토리지에 저장
      todos.push(value);
      localStorage.setItem("todos", JSON.stringify(todos));

      // input 초기화
      input.value = "";
    });
  </script>
</html>
